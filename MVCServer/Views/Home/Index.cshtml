@using BWASM.Pages
@using SharedProject.Localization
@using Microsoft.Extensions.Localization

@inject IStringLocalizer<SharedResource> SharedLocalizer

@{
    ViewData["Title"] = "Home Page";
}

<div class="text-center">
    <h1 class="display-4">@SharedLocalizer["Hello"] @GetUsername()</h1>
    <p>Learn about <a href="https://docs.microsoft.com/aspnet/core">building Web apps with ASP.NET Core</a>.</p>
    <component type="typeof(Counter)" render-mode="WebAssemblyPrerendered" />
</div>

@{
    string GetUsername()
    {
        if (!ViewData.ContainsKey("Username")) { return "Anonymous"; }
        var username = ViewData["Username"]!.ToString();
        if (string.IsNullOrEmpty(username)) return "New User";
        return username;
    }
}
